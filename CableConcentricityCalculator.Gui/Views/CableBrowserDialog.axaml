<Window xmlns="https://github.com/avaloniaui"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:views="clr-namespace:CableConcentricityCalculator.Gui.Views;assembly=CableConcentricityCalculator.Gui"
        x:Class="CableConcentricityCalculator.Gui.Views.CableBrowserDialog"
        Title="Cable Browser"
        Width="1100" Height="550"
        WindowStartupLocation="CenterOwner">

    <Window.Styles>
        <Style Selector="TextBlock.label">
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="Foreground" Value="#666"/>
            <Setter Property="FontSize" Value="11"/>
        </Style>
    </Window.Styles>

    <Grid ColumnDefinitions="*,Auto" RowDefinitions="Auto,*">
        <!-- Main content column -->
        <Grid Grid.Column="0" RowDefinitions="Auto,*">
        <!-- Filter Panel -->
        <Border Background="#F5F5F5" Padding="12" BorderBrush="#E0E0E0" BorderThickness="0,0,0,1">
            <Grid ColumnDefinitions="Auto,140,Auto,120,Auto,70,Auto,70,Auto,80,Auto,*" RowDefinitions="Auto,Auto">
                <TextBlock Text="Category:" Classes="label" Margin="0,0,8,0"/>
                <ComboBox Grid.Column="1" x:Name="CategoryCombo" MinWidth="100"
                          SelectionChanged="OnFilterChanged"/>

                <TextBlock Grid.Column="2" Text="Mfr:" Classes="label" Margin="12,0,8,0"/>
                <ComboBox Grid.Column="3" x:Name="ManufacturerCombo" MinWidth="100"
                          SelectionChanged="OnFilterChanged"/>

                <TextBlock Grid.Column="4" Text="Cores:" Classes="label" Margin="12,0,8,0"/>
                <ComboBox Grid.Column="5" x:Name="CoresCombo" MinWidth="60"
                          SelectionChanged="OnFilterChanged"/>

                <TextBlock Grid.Column="6" Text="AWG:" Classes="label" Margin="12,0,8,0"/>
                <ComboBox Grid.Column="7" x:Name="AwgCombo" MinWidth="60"
                          SelectionChanged="OnFilterChanged"/>

                <TextBlock Grid.Column="8" Text="Type:" Classes="label" Margin="12,0,8,0"/>
                <ComboBox Grid.Column="9" x:Name="TypeCombo" MinWidth="70"
                          SelectionChanged="OnFilterChanged"/>

                <TextBlock Grid.Row="1" Text="Search:" Classes="label" Margin="0,8,8,0"/>
                <TextBox Grid.Row="1" Grid.Column="1" Grid.ColumnSpan="9" x:Name="SearchBox"
                         Watermark="Search by part number or name..." Margin="0,8,0,0"
                         TextChanged="OnSearchChanged"/>
                <TextBlock Grid.Row="1" Grid.Column="10" Grid.ColumnSpan="2" x:Name="ResultCountText"
                           Classes="label" Margin="12,8,0,0" HorizontalAlignment="Right"/>
            </Grid>
        </Border>

        <!-- Cable List -->
        <DataGrid Grid.Row="1" x:Name="CablesGrid" Margin="12"
              x:DataType="views:CableDisplayItem"
                  AutoGenerateColumns="False"
                  IsReadOnly="True"
                  CanUserReorderColumns="True"
                  CanUserResizeColumns="True"
                  CanUserSortColumns="True"
                  SelectionMode="Single"
                  GridLinesVisibility="Horizontal"
                  RowHeight="32"
                  ScrollViewer.HorizontalScrollBarVisibility="Auto"
                  ScrollViewer.VerticalScrollBarVisibility="Auto">
            <DataGrid.Columns>
                <DataGridTextColumn Header="Part Number" Binding="{Binding PartNumber}" Width="150"/>
                <DataGridTextColumn Header="Name" Binding="{Binding Name}" Width="200"/>
                <DataGridTextColumn Header="Manufacturer" Binding="{Binding Manufacturer}" Width="100"/>
                <DataGridTextColumn Header="Cores" Binding="{Binding Cable.Cores.Count}" Width="50"/>
                <DataGridTextColumn Header="Conductor Ø" Binding="{Binding ConductorDiameterDisplay}" Width="90"/>
                <DataGridTextColumn Header="Overall Ø" Binding="{Binding OuterDiameterDisplay}" Width="90"/>
                <DataGridTextColumn Header="Type" Binding="{Binding Type}" Width="80"/>
            </DataGrid.Columns>
        </DataGrid>
    </Grid>

    <!-- Right info pane -->
    <Border Grid.Column="1" Grid.Row="0" Grid.RowSpan="2" Background="#FFFFFF" BorderBrush="#E0E0E0" BorderThickness="1,0,0,0" Padding="12" Width="280">
        <StackPanel Spacing="12">
            <TextBlock Text="Cable Details" FontWeight="Bold" FontSize="14"/>
            <Separator/>
            
            <TextBlock x:Name="InfoPartNumber" FontWeight="Bold" FontSize="12" TextWrapping="Wrap"/>
            <TextBlock x:Name="InfoName" TextWrapping="Wrap" Foreground="#444" FontSize="11"/>
            
            <StackPanel Spacing="4">
                <StackPanel Orientation="Horizontal" Spacing="12">
                    <TextBlock Text="Manufacturer:" Classes="label" Width="90"/>
                    <TextBlock x:Name="InfoManufacturer" />
                </StackPanel>
                <StackPanel Orientation="Horizontal" Spacing="12">
                    <TextBlock Text="Type:" Classes="label" Width="90"/>
                    <TextBlock x:Name="InfoType" />
                </StackPanel>
                <StackPanel Orientation="Horizontal" Spacing="12">
                    <TextBlock Text="Cores:" Classes="label" Width="90"/>
                    <TextBlock x:Name="InfoCores" />
                </StackPanel>
                <StackPanel Orientation="Horizontal" Spacing="12">
                    <TextBlock Text="Overall Ø:" Classes="label" Width="90"/>
                    <TextBlock x:Name="InfoOD" />
                </StackPanel>
            </StackPanel>
            
            <Separator Margin="0,8,0,8"/>
            
            <!-- Action buttons -->
            <Button x:Name="UseCableButton" Content="Use Cable" HorizontalAlignment="Stretch" Classes="accent" IsEnabled="False"/>
            
            <TextBlock Text="Add Multiple" FontWeight="SemiBold" Margin="0,12,0,4"/>
            <Grid ColumnDefinitions="*,Auto" RowDefinitions="Auto">
                <NumericUpDown x:Name="MultipleQuantityUpDown" Grid.Column="0" Value="1" Minimum="1" Maximum="1000" Margin="0,0,8,0"/>
                <Button x:Name="AddMultipleButton" Grid.Column="1" Content="Add" HorizontalAlignment="Right" IsEnabled="False"/>
            </Grid>
            
            <Separator Margin="0,8,0,8"/>

            <TextBlock Text="External References" FontWeight="SemiBold"/>
            <Button x:Name="GoogleSearchButton" Content="Search Google" HorizontalAlignment="Stretch" IsEnabled="False"/>

            <Button x:Name="CancelButton" Content="Cancel" HorizontalAlignment="Stretch" Margin="0,12,0,0"/>
        </StackPanel>
    </Border>
    </Grid>
</Window>
